<script type="text/javascript">

window.onload = () => {
  Date.prototype.addDays = function(days) {
    var date = new Date(this.valueOf());
    date.setDate(date.getDate() + days);
    return date;
  }

  window.globalState = {
    pageModel: <%= @page_model.to_json.html_safe %>,
  };

  window.vueRoot = new Vue({
    mixins: [applicationMixin, ViewportMixin, recaptchaV3Mixin],
    el: '#vue-root',   
    mounted: function() {
      if (window.location.hash) {
        setTimeout(function () {
          var hash = window.location.hash;
          window.location.hash = "";
          window.location.hash = hash;
       }, 350);
      }
    },
    data: function() {
      return {
        globalState: globalState,
      };
    }
  });
}
</script>

